<!DOCTYPE html><html><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Mr.猿</title><link rel="stylesheet" href="/css/pure-min.css">
<link rel="stylesheet" href="/css/grids-responsive-min.css">
<link rel="stylesheet" href="/css/style.css"></head><body><div id="layout" class="pure-g"><div class="sidebar pure-u-1 pure-u-md-1-4"><div class="header"><h1 class="brand-title"><a href="/">Mr.猿</a></h1><h2 class="brand-tagline">淡观山水闲看月，只读诗书不念愁。</h2><nav class="nav"><ul class="nav-list"><li class="nav-item"><a href="/archives" class="pure-button">文章列表</a></li><li class="nav-item"><a href="/about" class="pure-button">关于我</a></li></ul></nav></div></div><div class="content pure-u-1 pure-u-md-3-4"><div class="posts"><div class="post"><div class="post-header"><img height="48" width="48" src="https://www.gravatar.com/avatar/43fdda7ad74de17ca7bf9194f3976497?s=48" class="post-avatar"/><h2 class="post-title">Linux上部署配置</h2><p class="post-meta"><span class="post-date"><i class="icon-clock"></i>2018-03-17 19:49</span><span class="post-tags"><i class="icon-tags"></i><a href="/tags/Linux/" class="post-tag">Linux</a></span></p></div><div class="post-content"><p>转自：<a href="https://www.cnblogs.com/magicalSam/p/magicalSam.html" target="_blank" rel="noopener">https://www.cnblogs.com/magicalSam/p/magicalSam.html</a><br>感谢…</p>
<p>在Linux安装配置Tomcat 并部署web应用 ( 三种方式 )</p>
<figure class="highlight plain"><figcaption><span>java版本：1.7```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">##一、准备工作</span><br><span class="line">#####1、java -version 检查是否有java环境，没有则需要去安装并配置到环境变量中。</span><br><span class="line"></span><br><span class="line">#####2、下载tomcat包，下载地址：http://tomcat.apache.org/download-70.cgi</span><br><span class="line"></span><br><span class="line">可以本地下载后上传到服务器上，也可以直接在服务器上使用wget命令下载，本案例直接使用wget命令下载 ：</span><br><span class="line">```[root@localhost ~]# wget http://apache.fayea.com/tomcat/tomcat-7/v7.0.77/bin/apache-tomcat-7.0.77.tar.gz</span><br></pre></td></tr></table></figure>
<p>~</p>
<p>##二、安装Tomcat</p>
<p>#####1、新建tomcat存放的目录<br><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta"># mkdir /usr/local/tomcat</span></span><br></pre></td></tr></table></figure></p>
<p>#####2、拷贝下载好的 apache-tomcat-7.0.77.tar.gz 到 tomcat目录下<br><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta"># cp apache-tomcat-7.0.77.tar.gz /usr/local/tomcat/</span></span><br></pre></td></tr></table></figure></p>
<p>#####3、进入tomcat目录，并解压apache-tomcat-7.0.77.tar.gz<br><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta"># cd /usr/local/tomcat/</span></span><br><span class="line">[root<span class="symbol">@localhost</span> tomcat]<span class="meta"># tar -zxvf apache-tomcat-7.0.77.tar.gz</span></span><br></pre></td></tr></table></figure></p>
<p>#####4、进入解压的tomcat包的bin目录，并启动tomcat<br><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> tomcat]<span class="meta"># cd /usr/local/tomcat/apache-tomcat-7.0.77/bin/</span></span><br><span class="line">[root<span class="symbol">@localhost</span> bin]<span class="meta"># ./catalina.sh start</span></span><br></pre></td></tr></table></figure></p>
<p>或：<figure class="highlight plain"><figcaption><span>bin]# ./startup.sh```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">   注:  ```./catalina.sh start``` 和 ```./startup.sh``` 都能启动tomcat。使用 ```./catalina.sh stop``` 或 ```./shutdown.sh ```停止tomcat。</span><br><span class="line"></span><br><span class="line">###5、浏览器访问并解决防火墙问题。</span><br><span class="line"></span><br><span class="line">在浏览器使用ip进行访问（端口默认：8080），```http://192.168.0.111:8080```，可以看到tomcat的管理界面。</span><br><span class="line"></span><br><span class="line">```192.168.0.111``` 为服务器的ip地址，如果访问不了，有可能是服务器防火墙问题，8080端口被拦截了，于是需要打开8080端口，并保存重启防火墙：</span><br></pre></td></tr></table></figure></p>
<p>[root@localhost bin]# iptables  -I  INPUT  -p  tcp  –dport  8080  -j  ACCEPT<br>[root@localhost bin]# /etc/init.d/iptables  save<br>[root@localhost bin]# /etc/init.d/iptables  restart<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">在server.xml配置中可以修改访问端口，&lt;Connector port=<span class="string">"8080"</span> 修改成<span class="number">80</span>端口，浏览器上就可以直接通过```http:<span class="comment">//192.168.0.111``` 进行访问。</span></span><br><span class="line"></span><br><span class="line">#####<span class="number">6</span>、配置 tomcat 帐号密码权限（登陆使用Web管理界面）</span><br><span class="line"></span><br><span class="line">修改tomcat下的配置文件 ```tomcat-users.xml</span><br></pre></td></tr></table></figure></p>
<h6 id="root-localhost-vim-usr-local-tomcat-apache-tomcat-7-0-77-conf-tomcat-users-xml"><a href="#root-localhost-vim-usr-local-tomcat-apache-tomcat-7-0-77-conf-tomcat-users-xml" class="headerlink" title="[root@localhost ~]# vim /usr/local/tomcat/apache-tomcat-7.0.77/conf/tomcat-users.xml"></a>[root@localhost ~]# vim /usr/local/tomcat/apache-tomcat-7.0.77/conf/tomcat-users.xml</h6><p>在前添加以下代码：<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;role <span class="attribute">rolename</span>=<span class="string">"tomcat"</span>/&gt;</span><br><span class="line">&lt;role <span class="attribute">rolename</span>=<span class="string">"manager-gui"</span>/&gt;</span><br><span class="line">&lt;role <span class="attribute">rolename</span>=<span class="string">"admin-gui"</span>/&gt;</span><br><span class="line">&lt;role <span class="attribute">rolename</span>=<span class="string">"manager-script"</span>/&gt;</span><br><span class="line">&lt;role <span class="attribute">rolename</span>=<span class="string">"admin-script"</span>/&gt;</span><br><span class="line">&lt;user <span class="attribute">username</span>=<span class="string">"tomcat"</span> <span class="attribute">password</span>=<span class="string">"tomcat"</span> <span class="attribute">roles</span>=<span class="string">"tomcat,manager-gui,admin-gui,admin-script,manager-script"</span>/&gt;</span><br></pre></td></tr></table></figure></p>
<p>注：username 和 password 则是登陆tomcat管理界面需要的账号密码。</p>
<figure class="highlight plain"><figcaption><span>保存退出，重启tomcat</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">浏览器访问：```http://192.168.0.111:8080</span><br></pre></td></tr></table></figure>
<p>image</p>
<p>可以通过 Manager App 管理已部署的项目。</p>
<p>点击进入 Manager App 需要账号密码，上面有设置。</p>
<p>~</p>
<p>##三、Tomcat配置服务和自启动</p>
<p>#####1、Tomcat配置服务</p>
<p>新建服务脚本：</p>
<figure class="highlight plain"><figcaption><span>~]# vim</span><a href="/etc/init.d/tomcat```">link</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">添加脚本内容：</span><br></pre></td></tr></table></figure>
<pre><code>#!/bin/bash
# description: Tomcat7 Start Stop Restart
# processname: tomcat7
# chkconfig: 234 20 80
</code></pre><p>CATALINA_HOME=/usr/local/tomcat/apache-tomcat-7.0.77</p>
<p>case $1 in<br>        start)<br>                sh $CATALINA_HOME/bin/startup.sh<br>                ;;<br>        stop)<br>                sh $CATALINA_HOME/bin/shutdown.sh<br>                ;;<br>        restart)<br>                sh $CATALINA_HOME/bin/shutdown.sh<br>                sh $CATALINA_HOME/bin/startup.sh<br>                ;;<br>        *)<br>                echo ‘please use : tomcat {start | stop | restart}’<br>        ;;<br>esac<br>exit 0<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">```:wq``` 保存脚本。</span><br><span class="line"></span><br><span class="line">执行脚本，启动、停止 和 重启服务。</span><br><span class="line"></span><br><span class="line">启动：```service tomcat start</span><br></pre></td></tr></table></figure></p>
<p>停止：<figure class="highlight plain"><figcaption><span>tomcat stop```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">重启：```service tomcat restart</span><br></pre></td></tr></table></figure></p>
<p>#####2、Tomcat配置开机自启动</p>
<p>向chkconfig添加 tomcat 服务的管理</p>
<figure class="highlight plain"><figcaption><span>~]# chkconfig --add tomcat```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">设置tomcat服务自启动</span><br><span class="line"></span><br><span class="line">```[root@localhost ~]# chkconfig tomcat on</span><br></pre></td></tr></table></figure>
<p>查看tomcat的启动状态</p>
<figure class="highlight plain"><figcaption><span>~]# chkconfig --list | grep tomcat```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">状态如下：</span><br></pre></td></tr></table></figure>
<p>[root@localhost ~]# chkconfig –list | grep tomcat<br>tomcat      0:off 1:off 2:on 3:on 4:on 5:on 6:off<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">关闭tomcat服务自启动：```chkconfig tomcat off</span><br></pre></td></tr></table></figure></p>
<p>删除tomcat服务在chkconfig上的管理：<figure class="highlight plain"><figcaption><span>--del tomcat```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">##四、部署web项目（三种方式）</span><br><span class="line">#####1、第一种方式 : 部署项目到webapps（不推荐）</span><br><span class="line"></span><br><span class="line">进入tomcat下的webapps目录，并新建一个目录为web项目的主目录。</span><br></pre></td></tr></table></figure></p>
<p>[root@localhost ~]# cd /usr/local/tomcat/apache-tomcat-7.0.77/webapps</p>
<p>[root@localhost webapps]# mkdir sam</p>
<p>[root@localhost webapps]# ls<br>docs  examples  host-manager  manager  ROOT  sam<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sam 目录为项目的目录，现在把web项目打包出来的war拷贝并解压到sam目录下。</span><br><span class="line"></span><br><span class="line">这里我直接用最简答的 index.html 来代替web项目war包作测试。</span><br><span class="line"></span><br><span class="line">```[root@localhost sam]# ls</span><br></pre></td></tr></table></figure></p>
<p>index.html<br>浏览器访问：<figure class="highlight plain"><figcaption><span>既可访问到sam目录下的index.html</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">这种方式不被推荐，项目不好管理，而且需要链接加上项目名才能正常访问。</span><br><span class="line"></span><br><span class="line">#####2、第二种方式：修改server.xml文件，配置虚拟主机</span><br><span class="line"></span><br><span class="line">修改tomcat conf下的server.xml配置</span><br><span class="line"></span><br><span class="line">```[root@localhost conf]# vim server.xml</span><br></pre></td></tr></table></figure></p>
<p>在Engine节点内添加 Host节点<br><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;Host name=<span class="string">"www.sam.com"</span>&gt;</span><br><span class="line">      &lt;Valve className=<span class="string">"org.apache.catalina.valves.AccessLogValve"</span> directory=<span class="string">"logs"</span></span><br><span class="line">             prefix=<span class="string">"www.sam.com_access_log."</span> suffix=<span class="string">".txt"</span></span><br><span class="line">             pattern=<span class="string">"%h %l %u %t "</span>%r<span class="string">" %s %b"</span> /&gt;</span><br><span class="line">      &lt;Context path=<span class="string">""</span> docBase=<span class="string">"/home/sam/site/com.sam.www"</span> /&gt;</span><br><span class="line">&lt;<span class="regexp">/Host&gt;</span></span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">浏览器访问：```http://www.sam.com:8080``` 能访问到 ```/home/sam/site/com.sam.www``` 下的项目。</span><br><span class="line"></span><br><span class="line">注：```www.sam.com```为我个人域名，你需要自行注册域名，并做相应的ip映射。如果仅是本地测试，可以修改本机的host文件，添加记录：```192.168.0.111 www.sam.com``` ，将```web.sam.com```的访问映射到```192.168.0.111```这台服务器中。</span><br><span class="line"></span><br><span class="line">###3、第三种方式：修改server.xml和Catalina，配置虚拟主机。</span><br><span class="line"></span><br><span class="line">这种方式，我用 ```web.sam.com``` 这个项目为例。</span><br><span class="line"></span><br><span class="line">修改tomcat conf下的server.xml配置</span><br></pre></td></tr></table></figure>
<p> [root@localhost conf]# vim server.xml<br>在Engine节点内添加 简单的Host节点，:wq 保存退出</p>
<p><host name="web.sam.com"></host><br>进入tomcat conf下的Catalina目录<br>[root@localhost conf]# cd /usr/local/tomcat/apache-tomcat-7.0.77/conf/Catalina<br>新建目录 web.sam.com （与server.xml中配置的host名称一样）<br>[root@localhost Catalina]# mkdir web.sam.com<br>进入web.sam.com目录并新建ROOT.xml文件，添加相应的配置内容。<br>[root@localhost Catalina]# cd web.sam.com/<br>[root@localhost web.sam.com]# vim ROOT.xml<br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ROOT.<span class="keyword">xml</span> <span class="title">文件添加以下内容:</span></span><br></pre></td></tr></table></figure></p>
<p>&lt;?xml version=”1.0” encoding=”UTF-8”?&gt;</p>
<context path="" docbase="/home/sam/site/com.sam.web">

<pre><code>&lt;Valve className=&quot;org.apache.catalina.valves.AccessLogValve&quot;
        directory=&quot;logs/com.sam.web&quot;
        prefix=&quot;web.sam.com_localhost_access_log.&quot; suffix=&quot;.txt&quot;
        resolveHosts=&quot;true&quot;    
        pattern=&quot;%h %l %u %t &quot;%r&quot; %s %b&quot; /&gt;
</code></pre><p></p></context><br><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">###### :wq保存退出。</span><br><span class="line"></span><br><span class="line">###### 同样，新建项目目录 ```/home/sam/site/com.sam.web``` ，并把war包解压到该目录下，重启tomcat。</span><br><span class="line"></span><br><span class="line">###### 浏览器访问：```http:<span class="comment">//web.sam.com:8080```，此时就会访问到web.sam.com这个项目的内容，而不是 ```www.sam.com```的内容。</span></span><br><span class="line"></span><br><span class="line">###### 当然，需要在sam.com域名管理中添加 ```web.sam.com```域名映射，或者本地测试需要修改本机host文件，添加记录 ：```<span class="number">192.168</span><span class="number">.0</span><span class="number">.111</span> web.sam.com``` ，将```web.sam.com```的访问映射到```<span class="number">192.168</span><span class="number">.0</span><span class="number">.111</span>```这台服务器中。</span><br><span class="line"></span><br><span class="line">#### ~</span><br><span class="line"></span><br><span class="line">##五、配置静态资源访问，配置目录位置的网络映射</span><br><span class="line">配置后，可以直接访问到本地资源文件，而不需要访问到具体项目。</span><br><span class="line"></span><br><span class="line">#####<span class="number">1</span>、针对第二种部署方式的配置（以 www.sam.com 项目为例）</span><br><span class="line"></span><br><span class="line">修改tomcat conf下的server.xml配置</span><br><span class="line"></span><br><span class="line"> ```[root@localhost conf]# vim server.xml</span><br></pre></td></tr></table></figure><p></p>
<p>在<br><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;Host name=<span class="string">"www.sam.com"</span>&gt;</span><br><span class="line">      &lt;Valve className=<span class="string">"org.apache.catalina.valves.AccessLogValve"</span> directory=<span class="string">"logs"</span></span><br><span class="line">                       prefix=<span class="string">"www.sam.com_access_log."</span> suffix=<span class="string">".txt"</span></span><br><span class="line">                       pattern=<span class="string">"%h %l %u %t "</span>%r<span class="string">" %s %b"</span> /&gt;</span><br><span class="line">      &lt;Context path=<span class="string">""</span> docBase=<span class="string">"/home/sam/site/com.sam.www"</span> /&gt;</span><br><span class="line">      &lt;Context path=<span class="string">"/upload"</span> docBase=<span class="string">"/home/sam/share/upload"</span> /&gt;</span><br><span class="line">&lt;<span class="regexp">/Host&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>在 <figure class="highlight plain"><figcaption><span>存放共享资源 a.jpg</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">浏览器访问：```http://www.sam.com:8080/upload/a.jpg``` ，即可获取到该资源。</span><br><span class="line"></span><br><span class="line">说明：</span><br><span class="line"></span><br><span class="line">以上配置后，会把www.sam.com域名下的所有 ```http://www.sam.com:8080/upload``` 请求拦截，并直接从```/home/sam/share/upload``` 共享目录下寻求对应的资源文件。</span><br><span class="line"></span><br><span class="line">如访问：```http://www.sam.com:8080/upload/a/b.txt``` , 该请求直接从```/home/sam/share/upload```目录下寻找a目录，并寻找a目录下的b.txt，然后直接把该资源返回。</span><br><span class="line"></span><br><span class="line">于是我们只要把共享资源存放在配置的共享目录中，就能通过域名直接访问相应的资源。</span><br><span class="line"></span><br><span class="line">#####2、针对第三种部署方式的配置（以 web.sam.com 项目为例）</span><br><span class="line"></span><br><span class="line">修改Catalina目录下对应的项目目录里面的内容。</span><br><span class="line"></span><br><span class="line">进入Catalina 下的 web.sam.com 目录</span><br><span class="line">```[root@localhost conf]# cd /usr/local/tomcat/apache-tomcat-7.0.77/conf/Catalina/web.sam.com</span><br></pre></td></tr></table></figure></p>
<p>新建文件 upload.xml</p>
<figure class="highlight plain"><figcaption><span>web.sam.com]# vim upload.xml```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">添加内容：</span><br></pre></td></tr></table></figure>
<p>&lt;?xml version=”1.0” encoding=”UTF-8”?&gt;</p>
<p><context path="/upload" docbase="/home/sam/share/upload"><br>        <valve classname="org.apache.catalina.valves.AccessLogValve" directory="logs/com.sam.web_upload" prefix="web.sam.com_upload_localhost_access_log." suffix=".txt" resolvehosts="true" pattern="%h %l %u %t " %r"="" %s="" %b"=""><br></valve></context><br>```<br>:wq 保存推出，重启tomcat。</p>
<p>在 <code>/home/sam/share/upload</code> 存放共享资源 a.jpg</p>
<p>浏览器访问：<code>http://www.sam.com:8080/upload/a.jpg</code> ，即可获取到该资源。</p>
</div><nav id="post-nav"><a id="post-nav-older" href="/2018/01/31/省市区县三级联动UI/" class="post-nav-link-wrap"><strong class="post-nav-caption">Older</strong><div class="post-nav-title">省市区县三级联动UI</div></a></nav></div></div><div class="footer"><div class="social-link"><a href="http://weibo.com/SiteratorYue" target="_blank"><i class="icon-weibo"></i></a><a href="https://github.com/czy812" target="_blank"><i class="icon-github"></i></a><a href="https://plus.google.com/" target="_blank"><i class="icon-gplus"></i></a><a href="https://twitter.com/" target="_blank"><i class="icon-twitter"></i></a></div><div class="copyright">&copy; 2018 C_yue.
Powered by <a href="http://hexo.io" target="_blank">Hexo</a>
using <a href="https://github.com/saintwinkle/hexo-theme-pure" target="_blank">Pure</a> theme.</div></div></div><script src="/js/script.js"></script></div></body></html>